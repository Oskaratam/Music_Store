{"mappings":"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","sources":["<anon>","Public/index.js"],"sourcesContent":["const container = document.querySelector(\"main\"), formDialog = document.querySelector(\".formDialog\"), arrow_right = document.getElementById(\"arrow_right\"), homeLogInBtn = document.getElementById(\"homeLogInBtn\"), itemButtons = document.querySelectorAll(\".itemButton\"), cartBtn = document.querySelector(\".cartBtn\"), cart = document.querySelector(\".cart\"), cartItems = document.querySelector(\".cartItems\");\naddToCartButtons = document.querySelectorAll(\"#addToCartBtn\"), countCartItemsImage = document.getElementById(\"countCartItemsImage\"), totalPrice = document.querySelector(\".totalPrice\"), checkout = document.getElementById(\"checkout\"), sendReportButton = document.querySelector(\".sendReportButton\"), issueReportInput = document.querySelector(\".issueReportInput\");\nwindow.addEventListener(\"scroll\", ()=>{\n    document.body.style.cssText = `--scrollTop: ${window.scrollY}px`;\n});\nlet currentBg = 1, bg;\nconst NUMBERS = {\n    1: \"first\",\n    2: \"second\",\n    3: \"third\",\n    4: \"fourth\",\n    5: \"fifth\",\n    6: \"sixth\"\n};\n//CHANGING BACKGROUNDS//\nlet changeBg = ()=>{\n    if (currentBg === 3) {\n        document.querySelector(\"#photo3\").classList.remove(\"active\");\n        document.querySelector(\"#photo2\").classList.remove(\"active\");\n        currentBg = 1;\n    } else currentBg += 1;\n    document.querySelector(\"#photo\" + currentBg).classList.add(\"active\");\n};\narrow_right.addEventListener(\"click\", changeBg);\n//////////////////////////////////////////////////\nhomeLogInBtn.addEventListener(\"click\", ()=>{\n    formDialog.classList.add(\"formsOpened\");\n    document.querySelector(\".overlay\").classList.remove(\"hidden\");\n});\nconst closeForms = ()=>{\n    formDialog.classList.remove(\"formsOpened\");\n    document.querySelector(\".overlay\").classList.add(\"hidden\");\n};\ndocument.querySelector(\".overlay\").addEventListener(\"click\", ()=>{\n    closeForms();\n});\ndocument.addEventListener(\"keydown\", (e)=>{\n    if (e.key == \"Escape\" && !formDialog.classList.contains(\"hidden\")) closeForms();\n});\n//CREATING CATALOG//\ncreateElementsInItemBoxes = ()=>{\n    for(let i = 1; i < 7; i++){\n        let image = document.createElement(\"img\");\n        image.classList.add(\"itemImage\");\n        let name = document.createElement(\"span\");\n        name.classList.add(\"itemName\");\n        let price = document.createElement(\"span\");\n        price.classList.add(\"itemPrice\");\n        let itemContainer = document.querySelector(`.${NUMBERS[i]}`);\n        itemContainer.appendChild(image);\n        itemContainer.appendChild(name);\n        itemContainer.appendChild(price);\n    }\n};\ncreateElementsInItemBoxes();\nconst setItems = (itemType)=>{\n    for(let i = 1; i < 7; i++){\n        let itemBox = document.querySelector(`.item.${NUMBERS[i]}`);\n        itemBox.setAttribute(\"data-itemtype\", `${itemType[0]}`);\n        itemBox.setAttribute(\"data-item\", `${itemType[i]}`);\n        document.getElementsByClassName(`itemImage`)[i - 1].setAttribute(\"src\", `${itemType[i].imageSource}`);\n        document.getElementsByClassName(\"itemName\")[i - 1].innerHTML = `${itemType[i].name}`;\n        document.getElementsByClassName(\"itemPrice\")[i - 1].innerHTML = `${itemType[i].price / 100}$`;\n    }\n};\nlet guitars, bass, keys, drums, amps, buttonValues, itemTypesTxtToObject;\nfetch(\"http://localhost:3000/items\").then((res)=>res.json()).then((data)=>{\n    guitars = data.guitars, bass = data.bass, keys = data.keys, drums = data.drums, amps = data.amps;\n    setItems(guitars);\n    buttonValues = [\n        keys,\n        drums,\n        guitars,\n        bass,\n        amps\n    ];\n    itemTypesTxtToObject = {\n        \"guitars\": guitars,\n        \"drums\": drums,\n        \"bass\": bass,\n        \"amps\": amps,\n        \"keys\": keys\n    };\n}).catch((error)=>{\n    console.error(error);\n});\nfor(let i = 0; i < itemButtons.length; i++)itemButtons[i].addEventListener(\"click\", ()=>{\n    document.querySelector(\".currentItemButton\").classList.remove(\"currentItemButton\");\n    itemButtons[i].classList.add(\"currentItemButton\");\n    setItems(buttonValues[i]);\n    addToCartButtons.forEach((button)=>button.classList.remove(\"addToCartBtnClicked\"));\n});\n//////////////////////////////////////////////////////////////\n/*CART SYSTEM*/ let cartItemsCount = 0;\nlet cartItemsArray = [];\ncartBtn.addEventListener(\"click\", ()=>{\n    cart.classList.toggle(\"cartOpened\");\n});\nconst updateCartItemsCountImage = ()=>{\n    countCartItemsImage.innerHTML = `${cartItemsCount}`;\n};\nconst updateTotalPrice = ()=>{\n    let total = 0;\n    cartItemsArray.forEach((item)=>total += parseInt(item.price / 100 * item.quantity));\n    totalPrice.innerHTML = `Total ${total}$`;\n};\n//adding items to cart\nfor(let i = 0; i < addToCartButtons.length; i++)addToCartButtons[i].addEventListener(\"click\", ()=>{\n    if (cartItemsCount <= 5) {\n        let currentAddToCartBtn = addToCartButtons[i];\n        addToCartButtons[i].classList.add(\"addToCartBtnClicked\");\n        let itemBox = document.querySelectorAll(\".item\")[i];\n        let itemObject = itemBox.dataset.itemtype;\n        let addedItem = itemTypesTxtToObject[itemObject][i + 1];\n        addedItem.quantity = 1;\n        if (!cartItemsArray.includes(addedItem)) {\n            cartItemsArray.push(addedItem);\n            console.log(cartItemsArray);\n            let cartItem = document.createElement(\"div\");\n            cartItem.classList.add(\"cartItem\");\n            cartItems.appendChild(cartItem);\n            let cartItemName = document.createElement(\"p\");\n            cartItemName.classList.add(\"cartItemName\");\n            cartItemName.innerHTML = addedItem.name;\n            cartItem.appendChild(cartItemName);\n            let minus = document.createElement(\"img\");\n            minus.setAttribute(\"src\", \"../img/minus.png\");\n            minus.classList.add(\"minusIcon\");\n            cartItem.appendChild(minus);\n            let cartItemQuantity = document.createElement(\"input\");\n            cartItemQuantity.classList.add(\"cartItemQuantity\");\n            cartItemQuantity.setAttribute(\"value\", \"1\");\n            cartItemQuantity.setAttribute(\"type\", \"number\");\n            cartItemQuantity.setAttribute(\"min\", \"1\");\n            cartItemQuantity.setAttribute(\"max\", \"5\");\n            cartItem.appendChild(cartItemQuantity);\n            let plus = document.createElement(\"img\");\n            plus.setAttribute(\"src\", \"../img/plus.png\");\n            plus.classList.add(\"plusIcon\");\n            cartItem.appendChild(plus);\n            let cartItemPrice = document.createElement(\"p\");\n            cartItemPrice.classList.add(\"cartItemPrice\");\n            cartItemPrice.innerHTML = `${addedItem.price / 100}$`;\n            cartItem.appendChild(cartItemPrice);\n            cartItemsCount += 1;\n            updateCartItemsCountImage();\n            updateTotalPrice();\n            const updateItemQuantity = ()=>{\n                let value = cartItemQuantity.value;\n                let priceNumber = parseInt(`${addedItem.price / 100}$`);\n                cartItemsArray = cartItemsArray.filter((item)=>{\n                    return item != addedItem;\n                });\n                addedItem.quantity = parseInt(value);\n                console.log(cartItemsArray);\n                cartItemsArray.push(addedItem);\n                for(let i = 0; i < value; i++)cartItemPrice.innerHTML = `${priceNumber * value}$`;\n                updateTotalPrice();\n            };\n            minus.addEventListener(\"click\", ()=>{\n                cartItemQuantity.stepDown();\n                updateItemQuantity();\n            });\n            plus.addEventListener(\"click\", ()=>{\n                cartItemQuantity.stepUp();\n                updateItemQuantity();\n            });\n            let removeItemButton = document.createElement(\"img\");\n            removeItemButton.classList.add(\"removeItemButton\");\n            removeItemButton.setAttribute(\"src\", \"../img/cross.png\");\n            cartItem.appendChild(removeItemButton);\n            removeItemEvent(removeItemButton, cartItem, addedItem, currentAddToCartBtn);\n        }\n    } else alert(\"Cart is full ;)\");\n});\n// removing items from cart\nconst removeItemEvent = (button, element, arrayItem, currentAddToCartBtn)=>{\n    button.addEventListener(\"click\", ()=>{\n        element.remove();\n        cartItemsArray = cartItemsArray.filter((item)=>{\n            return item != arrayItem;\n        });\n        cartItemsCount -= 1;\n        updateCartItemsCountImage();\n        updateTotalPrice();\n        currentAddToCartBtn.classList.remove(\"addToCartBtnClicked\");\n    });\n};\n////////////////////////////////////////////////////////////////////\n/*CHECKOUT*/ checkout.addEventListener(\"click\", ()=>{\n    fetch(\"http://localhost:3000/create-checkout-session\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            items: cartItemsArray\n        })\n    }).then((res)=>{\n        if (res.ok) return res.json();\n        return res.json().then((json)=>Promise.reject(json));\n    }).then(({ url })=>{\n        window.location = url;\n    }).catch((e)=>{\n        console.error(e);\n    });\n});\n//ACCEPT ISSUE REPORT\nconst acceptReport = (e)=>{\n    e.preventDefault();\n    console.log(issueReportInput.value);\n    issueReportInput.value = \"\";\n    document.querySelector(\".acceptImage\").classList.add(\"acceptImageOpened\");\n    setTimeout(function() {\n        document.querySelector(\".acceptImage\").classList.remove(\"acceptImageOpened\");\n    }, 2000);\n};\ndocument.querySelector(\".issueForm\").onsubmit = acceptReport;\n//AUTHENTIFICATION\nconst logIn = document.getElementById(\"logIn\"), signUp = document.getElementById(\"signUp\"), signUpBtn = document.getElementById(\"signUpBtn\");\nconst createUser = async (name, email, password)=>{\n    try {\n        const response = await fetch(\"http://localhost:3000/users\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                \"name\": name,\n                \"email\": email,\n                \"password\": password\n            })\n        });\n        if (response.ok) console.log(\"USER CREATED\");\n        else console.log(\"Failed to create user\");\n    } catch (error) {\n        console.error(error);\n    }\n};\nsignUp.addEventListener(\"submit\", async (e)=>{\n    await createUser(document.getElementById(\"name2\").value, document.getElementById(\"email2\").value, document.getElementById(\"password2\").value);\n});\n\n//# sourceMappingURL=index.e5939c4b.js.map\n","const container = document.querySelector('main'),\r\n      formDialog = document.querySelector('.formDialog'),\r\n      arrow_right = document.getElementById('arrow_right'),\r\n      homeLogInBtn = document.getElementById('homeLogInBtn'),\r\n      itemButtons = document.querySelectorAll('.itemButton'),\r\n      cartBtn = document.querySelector('.cartBtn'),\r\n      cart = document.querySelector('.cart'),\r\n      cartItems = document.querySelector('.cartItems')\r\n      addToCartButtons = document.querySelectorAll('#addToCartBtn'),\r\n      countCartItemsImage = document.getElementById('countCartItemsImage'),\r\n      totalPrice = document.querySelector('.totalPrice'),\r\n      checkout = document.getElementById('checkout'),\r\n      sendReportButton = document.querySelector('.sendReportButton'),\r\n      issueReportInput = document.querySelector('.issueReportInput');\r\n\r\nwindow.addEventListener('scroll', ()=>{\r\n    document.body.style.cssText = `--scrollTop: ${window.scrollY}px`\r\n})\r\n\r\nlet currentBg = 1,\r\n    bg;\r\n\r\nconst NUMBERS = {\r\n    1: 'first',\r\n    2: 'second',\r\n    3: 'third',\r\n    4: 'fourth',\r\n    5: 'fifth',\r\n    6: 'sixth'\r\n}\r\n\r\n//CHANGING BACKGROUNDS//\r\n\r\nlet changeBg = () => {\r\n    if (currentBg === 3) {\r\n       document.querySelector('#photo3').classList.remove('active');\r\n       document.querySelector('#photo2').classList.remove('active');\r\n       currentBg = 1;\r\n    } else {\r\n        currentBg += 1;\r\n    }\r\n    document.querySelector('#photo'+ currentBg).classList.add('active');\r\n}\r\narrow_right.addEventListener('click', changeBg);\r\n\r\n//////////////////////////////////////////////////\r\n\r\n\r\nhomeLogInBtn.addEventListener('click', () => {\r\n    formDialog.classList.add('formsOpened');\r\n    document.querySelector('.overlay').classList.remove('hidden');\r\n})\r\n\r\nconst closeForms = () => {\r\n    formDialog.classList.remove('formsOpened');\r\n    document.querySelector('.overlay').classList.add('hidden');\r\n}\r\ndocument.querySelector('.overlay').addEventListener('click', ()=>{closeForms()});\r\ndocument.addEventListener(\"keydown\", (e) => {\r\n    if (e.key == \"Escape\" && !formDialog.classList.contains('hidden')) {\r\n        closeForms();\r\n    }\r\n});\r\n\r\n\r\n//CREATING CATALOG//\r\n\r\n\r\ncreateElementsInItemBoxes = () => {\r\n    for (let i = 1; i < 7; i++){\r\n        let image = document.createElement('img');\r\n        image.classList.add('itemImage');\r\n        let name = document.createElement('span');\r\n        name.classList.add('itemName');\r\n        let price = document.createElement('span');\r\n        price.classList.add('itemPrice');\r\n        let itemContainer = document.querySelector(`.${NUMBERS[i]}`);\r\n        itemContainer.appendChild(image);\r\n        itemContainer.appendChild(name);\r\n        itemContainer.appendChild(price);\r\n    }\r\n};\r\ncreateElementsInItemBoxes();\r\n\r\n\r\n\r\nconst setItems = (itemType) => {\r\n    for (let i = 1; i < 7; i++){\r\n        let itemBox = document.querySelector(`.item.${NUMBERS[i]}`);\r\n        itemBox.setAttribute('data-itemtype', `${itemType[0]}`)\r\n        itemBox.setAttribute('data-item', `${itemType[i]}`)\r\n        document.getElementsByClassName(`itemImage`)[i - 1].setAttribute('src', `${itemType[i].imageSource}`)\r\n        document.getElementsByClassName('itemName')[i - 1].innerHTML = `${itemType[i].name}`\r\n        document.getElementsByClassName('itemPrice')[i - 1].innerHTML = `${itemType[i].price / 100}$`\r\n}\r\n}\r\n\r\nlet guitars, bass, keys, drums, amps, buttonValues, itemTypesTxtToObject;\r\n\r\nfetch('http://localhost:3000/items')\r\n    .then(res => res.json())\r\n    .then(data => {\r\n        guitars = data.guitars,\r\n        bass = data.bass,\r\n        keys = data.keys,\r\n        drums = data.drums,\r\n        amps = data.amps;\r\n        \r\n        setItems(guitars);\r\n\r\n        buttonValues = [\r\n                keys,\r\n                drums,\r\n                guitars,\r\n                bass,\r\n                amps\r\n        ]\r\n\r\n        itemTypesTxtToObject = {\r\n            \"guitars\": guitars,\r\n            \"drums\": drums,\r\n            \"bass\": bass,\r\n            \"amps\": amps,\r\n            \"keys\": keys,\r\n        }\r\n            \r\n        \r\n\r\n\r\n    })\r\n    .catch(error => {\r\n        console.error(error);\r\n    });\r\n\r\n\r\n\r\nfor (let i = 0; i < itemButtons.length; i++){\r\n    itemButtons[i].addEventListener('click', () => {\r\n        document.querySelector('.currentItemButton').classList.remove('currentItemButton');\r\n        itemButtons[i].classList.add('currentItemButton');\r\n        setItems(buttonValues[i]);\r\n        addToCartButtons.forEach(button => button.classList.remove('addToCartBtnClicked'));\r\n    })\r\n}\r\n\r\n//////////////////////////////////////////////////////////////\r\n\r\n/*CART SYSTEM*/\r\nlet cartItemsCount = 0;\r\n\r\nlet cartItemsArray = [];\r\n\r\n\r\ncartBtn.addEventListener('click', ()=> {\r\n    cart.classList.toggle('cartOpened');\r\n})\r\n\r\nconst updateCartItemsCountImage = () => {\r\n    countCartItemsImage.innerHTML = `${cartItemsCount}`;\r\n}\r\nconst updateTotalPrice = () => {\r\n    let total = 0;\r\n    cartItemsArray.forEach(item => total += parseInt((item.price / 100) * item.quantity));\r\n    totalPrice.innerHTML = `Total ${total}$`;\r\n}\r\n\r\n//adding items to cart\r\nfor (let i = 0; i < addToCartButtons.length; i++){\r\n    addToCartButtons[i].addEventListener('click', () => {\r\n        if(cartItemsCount <= 5){\r\n            let currentAddToCartBtn = addToCartButtons[i];\r\n            addToCartButtons[i].classList.add('addToCartBtnClicked')\r\n            \r\n            let itemBox = document.querySelectorAll('.item')[i];\r\n            let itemObject = itemBox.dataset.itemtype;\r\n            let addedItem = itemTypesTxtToObject[itemObject][i + 1];\r\n\r\n            addedItem.quantity = 1;\r\n\r\n\r\n            if (!cartItemsArray.includes(addedItem)){\r\n                cartItemsArray.push(addedItem);\r\n\r\n                console.log(cartItemsArray)\r\n\r\n                \r\n                let cartItem = document.createElement('div');\r\n                cartItem.classList.add('cartItem');\r\n                cartItems.appendChild(cartItem);\r\n                    \r\n                let cartItemName = document.createElement('p');\r\n                cartItemName.classList.add('cartItemName')\r\n                cartItemName.innerHTML = addedItem.name;\r\n                cartItem.appendChild(cartItemName);\r\n\r\n                let minus = document.createElement('img');\r\n                minus.setAttribute('src', '../img/minus.png');\r\n                minus.classList.add('minusIcon');\r\n                cartItem.appendChild(minus);\r\n\r\n                let cartItemQuantity = document.createElement('input')\r\n                cartItemQuantity.classList.add('cartItemQuantity');\r\n                cartItemQuantity.setAttribute('value', '1');\r\n                cartItemQuantity.setAttribute('type', \"number\");\r\n                cartItemQuantity.setAttribute('min', '1');\r\n                cartItemQuantity.setAttribute('max', '5');\r\n                cartItem.appendChild(cartItemQuantity);\r\n\r\n                let plus = document.createElement('img');\r\n                plus.setAttribute('src', '../img/plus.png');\r\n                plus.classList.add('plusIcon');\r\n                cartItem.appendChild(plus);\r\n\r\n\r\n                let cartItemPrice = document.createElement('p');\r\n                cartItemPrice.classList.add('cartItemPrice');\r\n                cartItemPrice.innerHTML = `${addedItem.price / 100}$`;\r\n                cartItem.appendChild(cartItemPrice)\r\n                cartItemsCount += 1;\r\n                updateCartItemsCountImage();\r\n                updateTotalPrice();\r\n\r\n                const updateItemQuantity = () => {\r\n                    let value = cartItemQuantity.value;\r\n                    let priceNumber = parseInt(`${addedItem.price / 100}$`);\r\n                    cartItemsArray = cartItemsArray.filter((item) => {\r\n                        return item != addedItem;\r\n                    })\r\n                    addedItem.quantity = parseInt(value);\r\n                    console.log(cartItemsArray)\r\n                    cartItemsArray.push(addedItem)\r\n                    for(let i = 0; i < value; i++){\r\n                        cartItemPrice.innerHTML = `${priceNumber * value}$`\r\n                    }\r\n                    updateTotalPrice();\r\n                }\r\n\r\n                minus.addEventListener('click', ()=> {\r\n                    cartItemQuantity.stepDown();\r\n                    updateItemQuantity();\r\n                })\r\n\r\n                plus.addEventListener('click', ()=> {\r\n                    cartItemQuantity.stepUp();\r\n                    updateItemQuantity();\r\n                })\r\n\r\n\r\n                let removeItemButton = document.createElement('img');\r\n                removeItemButton.classList.add('removeItemButton');\r\n                removeItemButton.setAttribute('src', '../img/cross.png');\r\n                cartItem.appendChild(removeItemButton)\r\n                removeItemEvent(removeItemButton, cartItem, addedItem, currentAddToCartBtn)\r\n            }\r\n        } else {\r\n            alert('Cart is full ;)')\r\n        }\r\n        \r\n    })\r\n}\r\n\r\n// removing items from cart\r\n\r\nconst removeItemEvent = (button, element, arrayItem, currentAddToCartBtn) => {\r\n    button.addEventListener('click', () => {\r\n        element.remove();\r\n        cartItemsArray = cartItemsArray.filter((item) => {\r\n            return item != arrayItem;\r\n        })\r\n        cartItemsCount -= 1;\r\n        updateCartItemsCountImage();\r\n        updateTotalPrice();\r\n        currentAddToCartBtn.classList.remove('addToCartBtnClicked');\r\n    })\r\n}\r\n////////////////////////////////////////////////////////////////////\r\n\r\n/*CHECKOUT*/\r\n\r\ncheckout.addEventListener('click', () => {\r\n    fetch('http://localhost:3000/create-checkout-session', {\r\n        method: 'POST',\r\n        headers:{\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            items: cartItemsArray\r\n        }),\r\n    }).then(res => {\r\n        if (res.ok) return res.json()\r\n        return res.json().then(json => Promise.reject(json))\r\n    }).then(({ url }) => {\r\n        window.location = url\r\n    }).catch((e) => {\r\n        console.error(e);\r\n    })\r\n\r\n})\r\n\r\n//ACCEPT ISSUE REPORT\r\n\r\nconst acceptReport = (e) => {\r\n    e.preventDefault();\r\n    console.log(issueReportInput.value);\r\n    issueReportInput.value = '';\r\n    document.querySelector('.acceptImage').classList.add('acceptImageOpened')\r\n    setTimeout(function(){\r\n        document.querySelector('.acceptImage').classList.remove('acceptImageOpened')\r\n    }, 2000)\r\n}\r\n\r\ndocument.querySelector('.issueForm').onsubmit = acceptReport;\r\n\r\n//AUTHENTIFICATION\r\n\r\nconst logIn = document.getElementById('logIn'),\r\n    signUp = document.getElementById('signUp'),\r\n    signUpBtn = document.getElementById('signUpBtn');\r\n\r\n\r\nconst createUser = async (name, email, password) => {\r\n    try {\r\n        const response = await fetch('http://localhost:3000/users', {\r\n        method: 'POST',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({\"name\": name,\r\n                \"email\": email,\r\n                \"password\": password})\r\n    });\r\n    if (response.ok){\r\n        console.log('USER CREATED')\r\n    } else {\r\n        console.log('Failed to create user')\r\n    }\r\n   }catch (error) {\r\n    console.error(error);\r\n}}\r\n\r\n\r\n\r\nsignUp.addEventListener('submit', async (e) => {\r\n    await createUser(document.getElementById(\"name2\").value, document.getElementById('email2').value, document.getElementById('password2').value)\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["guitars","bass","keys","drums","amps","buttonValues","itemTypesTxtToObject","document","querySelector","formDialog","arrow_right","getElementById","homeLogInBtn","itemButtons","querySelectorAll","cartBtn","cart","cartItems","addToCartButtons","countCartItemsImage","totalPrice","checkout","sendReportButton","issueReportInput","window","addEventListener","body","style","cssText","scrollY","currentBg","NUMBERS","classList","remove","add","closeForms","e","key","contains","createElementsInItemBoxes","i","image","createElement","name","price","itemContainer","appendChild","setItems","itemType","itemBox","setAttribute","getElementsByClassName","imageSource","innerHTML","fetch","then","res","json","data","catch","error","console","length","forEach","button","cartItemsCount","cartItemsArray","toggle","updateCartItemsCountImage","updateTotalPrice","total","item","parseInt","quantity","currentAddToCartBtn","addedItem","dataset","itemtype","includes","push","log","cartItem","cartItemName","minus","cartItemQuantity","plus","cartItemPrice","updateItemQuantity","value","priceNumber","filter","stepDown","stepUp","removeItemButton","removeItemEvent","alert","element","arrayItem","method","headers","JSON","stringify","items","ok","Promise","reject","url","location","onsubmit","preventDefault","setTimeout","signUp","createUser","email","password","response"],"version":3,"file":"index.e5939c4b.js.map"}